<div class="col-md-12 mt-3">

    <h1>{{page_title}}</h1>

	
    <p *ngIf="!is_edit">AÃ±ade nuevo libro</p>
	<p *ngIf="is_edit && book">Modifica el libro {{book.name}}</p>

    <!--Formulario de registro-->
	<form class="col-md-5 ml-0 pl-0" #bookNew="ngForm" (ngSubmit)="onSubmit(bookNew)">
		<div class="form-group">
			<label for="name">Nombre</label>
			<input type="text" name="name" class="form-control" #name="ngModel" [(ngModel)]="book.name" required >

			<small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block">
				El nombre no es valido
			</small>	
		</div>


		<!--Category-->
		<div class="form-group">
			<mat-form-field class="example-full-width">
				<input type="text"   placeholder="Categoria" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto"   required>
				<mat-autocomplete #auto="matAutocomplete" >
				  <mat-option (click)="selectChangeHandler(option)" *ngFor="let option of filteredOptions | async" [value]="option.name" >

					{{option.name}}
				  </mat-option>
				</mat-autocomplete>
			  </mat-form-field>
		</div>

		<div class="form-group">
			<input type="text" name="category_id" class="form-control cdk-visually-hidden" #category_id="ngModel" [(ngModel)]='book.category_id' >
		</div>

		<div class="form-group">
			<label for="publication_date">Fecha de publicacion</label>
			<input type="date" name="publication_date" class="form-control" #publication_date="ngModel" [(ngModel)]="book.publication_date" required >
		</div>

        <div class="form-group">
			<label for="author">Autor</label>
			<input type="text" name="author" class="form-control" #author="ngModel" [(ngModel)]="book.author" required>

			<small *ngIf="!author.valid && author.touched" class="invalid-feedback d-block">
				El autor no es valido
			</small>	
		</div>

        <div class="form-group">
			<label for="content">Contenido</label>
			<input type="text" name="content" class="form-control" #content="ngModel" [(ngModel)]="book.content" required>

			<small *ngIf="!content.valid && content.touched" class="invalid-feedback d-block">
				El contenido no es valido
			</small>	
		</div>

		<input type="submit" value="Crear" class="btn btn-success" [disabled]="bookNew.invalid"/>

	</form>	

</div>
